<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>JavaSE基础 day06 | Rorschach | 做点好事，写进日记</title>

  
  <meta name="author" content="Mask">
  

  
  <meta name="description" content="MaskTaoX">
  

  
  
  <meta name="keywords" content="学习">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="JavaSE基础 day06"/>

  <meta property="og:site_name" content="Rorschach"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Rorschach" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Rorschach</a>
    </h1>
    <p class="site-description">做点好事，写进日记</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>JavaSE基础 day06</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2017/11/27/day06 数组工具类与单例设计模式 /" rel="bookmark">
        <time class="entry-date published" datetime="2017-11-27T13:27:16.000Z">
          2017-11-27
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <h1 id="数组工具对象建立"><a href="#数组工具对象建立" class="headerlink" title="数组工具对象建立"></a>数组工具对象建立</h1><p>工具类，类中全是静态方法  </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ArrayTool</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">ArrayTool</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">selectSort</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getMax</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    ...</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>该类中方法都是静态，该类是不需要创建对象的，为了保证不让其被创建对象。可以将构造函数私有化。</strong>  </p>
<ul>
<li><a id="more"></a>
<the rest="" of="" contents="" |="" 余下全文="">

</the></li>
</ul>
<h1 id="数组工具类-文档注释"><a href="#数组工具类-文档注释" class="headerlink" title="数组工具类 文档注释"></a>数组工具类 文档注释</h1><p>  文档注释举例：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**  </span></span><br><span class="line"><span class="comment">建立一个用于操作数组的工具类，其中包含常见的对数组操作的函数：最值，排序等。   </span></span><br><span class="line"><span class="comment">@ auther 张三  </span></span><br><span class="line"><span class="comment">@ version v1.0  </span></span><br><span class="line"><span class="comment">*/</span> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayTool</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">ArrayTool</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    对数组进行选择排序</span></span><br><span class="line"><span class="comment">    <span class="doctag">@param</span> arr 接受一个元素为int类型的数组。</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">selectSort</span><span class="params">(<span class="keyword">int</span>[] arr)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    用于给数组进行元素位置的置换</span></span><br><span class="line"><span class="comment">    <span class="doctag">@param</span> arr</span></span><br><span class="line"><span class="comment">    <span class="doctag">@param</span> a</span></span><br><span class="line"><span class="comment">    <span class="doctag">@param</span> b</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    获取指定元素在指定数组中的索引。</span></span><br><span class="line"><span class="comment">    <span class="doctag">@param</span> arr 接收数组</span></span><br><span class="line"><span class="comment">    <span class="doctag">@param</span> key 要找的元素</span></span><br><span class="line"><span class="comment">    <span class="doctag">@return</span> 返回该元素第一次出现的位置，不存在返回-1</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getIndex</span><span class="params">(<span class="keyword">int</span>[] arr,<span class="keyword">int</span> key)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">getMax</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    ...</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<hr>
<p>javadoc功能:公共类进行文档化。  </p>
<p><img src="https://i.loli.net/2017/11/26/5a1a310ac609f.png" alt="javadoc功能介绍"> </p>
<blockquote>
<p>javadoc -d . -author -version ArrayTool.java 在当前目录下生成</p>
<p>javadoc -d myhelp  -author -version ArrayTool.java 创建myhelp文件夹并生成  </p>
</blockquote>
<p>点击index.html即可看到文档注释<br><img src="https://i.loli.net/2017/11/26/5a1a34047545a.png" alt="文档注释，函数内容时不对外提供的"></p>
<ul>
<li><strong>注1：文档注释中，没有swap函数的注释，因为它是私有的，不能提供，文档注释只提供公有的函数介绍。</strong></li>
<li><strong>注2：文档注释只能解释被 /</strong> <strong> … * </strong>/ 所包含的内容。**</li>
</ul>
<p>生成文档注释后只需要发送 myhelp文件夹和.class执行文件即可。</p>
<hr>
<p>接收之后的使用步骤：</p>
<ul>
<li>接收文件后将其放到c:\myClass</li>
<li>根目录下set classpath=c:\myClass<br>表示虚拟机去词典执行程序</li>
<li>javac 文件名.java 编译</li>
<li>java 类名 运行  </li>
</ul>
<hr>
<blockquote>
<p><font color="red">设置路径时 如果你需要用到两个以上的路径中class文件，你需要将两个路径都设置到classpath中去。 </font></p>
</blockquote>
<p><font color="black"><br>具体方法：  </font></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set classpath=.;%classpath%</span><br></pre></td></tr></table></figure>
<ul>
<li>.表示当前目录。</li>
<li>classpath表示愿有的classpath中的路径</li>
<li>要加百分号%，classpath就会被识别成环境变量，代表已经设置好的路径</li>
</ul>
<h1 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h1><p>定义：对问题行之有效的解决方式，它是一种思想，有23种。  </p>
<h2 id="单例设计模式"><a href="#单例设计模式" class="headerlink" title="单例设计模式"></a>单例设计模式</h2><ul>
<li>解决的问题：可以保证一个类在内存中的对象唯一性。<br>比如对于多个程序使用同一个配置信息对象时，就需要保证该对象的唯一性。</li>
</ul>
<hr>
<ul>
<li>如何保证对象的唯一性？<ol>
<li>不允许其他程序用new创建该类对象。</li>
<li>在该类中创建一个本类实例。</li>
<li>对外提供一个方法让其他程序可以获取该对象。</li>
</ol>
<hr>
</li>
<li>步骤：<ol>
<li>私有化该类的构造函数。</li>
<li>通过new在本类中创建一个本类对象。</li>
<li>定义一个公有的方法，将创建的对象返回。</li>
</ol>
</li>
</ul>
<p>具体代码<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Single</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Single s = <span class="keyword">new</span> Single();<span class="comment">//通过new在本类中创建一个本类对象</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Single</span><span class="params">()</span></span>&#123;&#125;<span class="comment">//私有化构造函数</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Single <span class="title">getInstance</span><span class="params">()</span><span class="comment">//定义一个公有的方法，将创建的对象返回。</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SingleDemo</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Single ss=Single.getIstance();<span class="comment">//这样就获取到了该类的实例。</span></span><br><span class="line">        <span class="comment">//Single ss=Single.s;</span></span><br><span class="line">        <span class="comment">//这种表达也可以实现，但是为了满足成员变量的可控性（隐藏对外不提供），成员变量都是私有，所以不能用这种形式。</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//Text t1 =new Text(); 单例化之后new就不能用了，因为构造函数私有</span></span><br><span class="line">        Text t1=Test.getInstance;<span class="comment">//t1不是创造的是获取的，保证了唯一性。</span></span><br><span class="line">        Text t2=Test.getInstance;</span><br><span class="line">        t1.setNum(<span class="number">10</span>);</span><br><span class="line">        t2.setNum(<span class="number">20</span>);</span><br><span class="line">        system.out.println(t1.getNum());</span><br><span class="line">        system.out.println(t2.getNum());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//举例：</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Text</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line"><span class="comment">//我想保证Text类在内存中对象唯一性，需要在原有的类中加三部。</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Text</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Text t =<span class="keyword">new</span> Text();</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Text <span class="title">getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//原来类中的变量和方法</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> num;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNum</span><span class="params">(<span class="keyword">int</span> num)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.num=num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getNum</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><font color="red">运行结果是20,20 。因为t1 t2 是一个对象，单例设计模式，对象是唯一的。<font color="black"> </font></font></p>
<p><img src="https://i.loli.net/2017/11/27/5a1c0fce409a5.png" alt="内存图解.png">  </p>
<h2 id="单例设计模式-懒汉式"><a href="#单例设计模式-懒汉式" class="headerlink" title="单例设计模式-懒汉式"></a>单例设计模式-懒汉式</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//饿汉式,开发时多用</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Single</span>//类一加载，对象就已经存在了</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Single s = <span class="keyword">new</span> Single();</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Single</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Single <span class="title">getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//延迟加载形式，又叫懒汉式（什么时候用什么时候加载），面试时常考</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Single2</span>//类加载没有对象，只有调用<span class="title">getInstance</span>方法时，才会创建对象</span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Single2 s = <span class="keyword">null</span>;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Single2</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Single2 <span class="title">getInstance</span><span class="params">()</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(s==<span class="keyword">null</span>)</span><br><span class="line">            s=<span class="keyword">new</span> Single2();</span><br><span class="line">        <span class="keyword">return</span> s;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>懒汉式存在问题，后期被多线程并发访问时，保证不了对象唯一性。</strong></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/JAVA/">JAVA</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/学习/">学习</a>
    </span>
    

    </div>

    
  </div>
</article>


    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2018 Mask
    
  </p>
</footer>
    
  </div>
</div>
</body>
</html>